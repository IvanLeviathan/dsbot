(this["webpackJsonpbot-panel"]=this["webpackJsonpbot-panel"]||[]).push([[0],{219:function(e,t,n){},220:function(e,t,n){},222:function(e,t,n){},223:function(e,t,n){},224:function(e,t,n){},228:function(e,t,n){},322:function(e,t,n){},329:function(e,t,n){},330:function(e,t,n){},331:function(e,t,n){},333:function(e,t,n){},394:function(e,t,n){},395:function(e,t,n){},396:function(e,t,n){},397:function(e,t,n){},398:function(e,t,n){},399:function(e,t,n){},400:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n.n(c),r=n(57),s=n.n(r),i=(n(219),n(220),n(1));function o(e){return e.card?Object(i.jsx)("div",{className:"card spinner-card",children:Object(i.jsx)("div",{className:"card-body",children:Object(i.jsx)("div",{className:"spinner spinner-border text-primary",role:"status",children:Object(i.jsx)("span",{className:"sr-only",children:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430..."})})})}):Object(i.jsx)("div",{className:"spinner spinner-border text-primary",role:"status",children:Object(i.jsx)("span",{className:"sr-only",children:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430..."})})}n(222);var l=Object(c.createContext)();n(223);function d(e){var t=e.onClick,n=void 0===t?function(e){}:t,c=e.text,a=void 0===c?"":c,r=e.classes,s=void 0===r?"":r,o=e.disabled,l=void 0!==o&&o,d=e.type,u=void 0===d?"button":d;return Object(i.jsx)("button",{onClick:n,className:"btn btn-primary "+s,disabled:l,type:u,children:a})}function u(){var e=Object(c.useContext)(l).app,t=(new Date).getFullYear();return Object(i.jsx)("div",{className:"text-center auth-wrapper",children:Object(i.jsxs)("div",{className:"form-signin",children:[Object(i.jsx)("img",{className:"mb-4",src:"https://cdn.discordapp.com/app-icons/802686207493931078/2c26ed86bad5a81ae54a0b9b77cbdce0.png?size=256",alt:"",width:"256",height:"256"}),Object(i.jsx)("h1",{className:"h3 mb-3 font-weight-normal",children:'\u041f\u0430\u043d\u0435\u043b\u044c \u0443\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044f "Hesh Junior"'}),Object(i.jsx)(d,{text:"\u0412\u043e\u0439\u0442\u0438 \u0447\u0435\u0440\u0435\u0437 Discord",onClick:function(){window.location.href=e.DS_AUTH_URL},classes:"btn-discord btn-block"}),Object(i.jsxs)("p",{className:"mt-5 mb-3",children:["\xa9 2021 - ",t," ",Object(i.jsx)("a",{href:"https://discord.gg/eMauW6ZmhJ",target:"_blank",rel:"noreferrer",children:"Hesh Junior"})]})]})})}n(224);function j(){return Object(i.jsx)("footer",{className:"py-3",children:Object(i.jsx)("div",{className:"container",children:Object(i.jsx)("div",{className:"row",children:Object(i.jsxs)("div",{className:"col-12 text-right",children:["2021 - ",(new Date).getFullYear(),"\xa0",Object(i.jsx)("a",{href:"https://discord.gg/eMauW6ZmhJ",className:"text-light",target:"_blank",rel:"noreferrer",children:"Hesh Junior"})]})})})})}var b=n(24),h=n(9),O=n(12);function m(e){var t=e.type,n=void 0===t?"text":t,c=e.value,a=void 0===c?"":c,r=e.onChange,s=void 0===r?function(e){}:r,o=e.classes,l=void 0===o?"":o,d=e.disabled,u=void 0!==d&&d,j=e.placeholder,b=void 0===j?"":j,h=e.required,O=void 0!==h&&h,m=e.id,p=void 0===m?"":m;return Object(i.jsx)("input",{type:n,value:a,onChange:s,className:"form-control "+l,placeholder:b,required:O,id:p,disabled:u})}function p(e){var t=e.value,n=void 0===t?"":t,c=e.options,a=void 0===c?[]:c,r=e.classes,s=void 0===r?"":r,o=e.id,l=void 0===o?"":o,d=e.required,u=void 0!==d&&d,j=e.onChange,b=void 0===j?function(e){}:j;return Object(i.jsx)("select",{value:n,onChange:b,className:"form-control "+s,required:u,id:l,children:a.map((function(e){return Object(i.jsx)("option",{value:e.value,children:e.text},e.value)}))})}n(228);function f(e){var t=e.value,n=void 0===t?"":t,c=e.onChange,a=void 0===c?function(e){}:c,r=e.classes,s=void 0===r?"":r,o=e.disabled,l=void 0!==o&&o,d=e.placeholder,u=void 0===d?"":d,j=e.required,b=void 0!==j&&j,h=e.id,O=void 0===h?"":h,m=function(e){e.target.style.height="auto",e.target.style.height=e.target.scrollHeight+5+"px"};return Object(i.jsx)("textarea",{value:n,onChange:function(e){a(e),m(e)},onLoad:m,onInput:m,className:"form-control "+s,placeholder:u,required:b,id:O,disabled:l})}var x=n(207);n(322);function g(e){var t=e.curGuild,n=void 0===t?{}:t;return Object(i.jsx)("div",{className:"card",children:Object(i.jsxs)("div",{className:"card-body",children:[Object(i.jsx)("h2",{children:"\u041d\u0435\u0434\u043e\u0441\u0442\u0430\u0442\u043e\u0447\u043d\u043e \u043f\u0440\u0430\u0432 \u0434\u043b\u044f \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f"}),"\u0422\u043e\u043b\u044c\u043a\u043e \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0438 \u0441 \u043f\u0440\u0430\u0432\u0430\u043c\u0438 \u0430\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0430\u0442\u043e\u0440\u0430 \u043d\u0430 \u0441\u0435\u0440\u0432\u0435\u0440\u0435 ",Object(i.jsx)("b",{children:n.name})," \u0438\u043c\u0435\u044e\u0442 \u043f\u0440\u0430\u0432\u043e \u043d\u0430 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0435."]})})}function v(e){return e.isAdmin?Object(i.jsx)("div",{className:"card",children:Object(i.jsx)("div",{className:"card-body",children:Object(i.jsx)("form",{className:"settings-form",onSubmit:e.saveSettingsForm,children:Object(i.jsxs)("div",{className:"row",children:[Object(i.jsxs)("div",{className:"col-lg-6",children:[Object(i.jsxs)("div",{className:"form-group",children:[Object(i.jsx)("label",{htmlFor:"bot-name",children:"\u0418\u043c\u044f \u0431\u043e\u0442\u0430"}),Object(i.jsx)(m,{value:e.botName,onChange:e.setBotName,required:!0,placeholder:"\u0418\u043c\u044f \u0431\u043e\u0442\u0430",id:"bot-name"})]}),Object(i.jsxs)("div",{className:"form-group",children:[Object(i.jsx)("label",{htmlFor:"bot-pic",children:"\u0418\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435"}),Object(i.jsx)(m,{value:e.botPic,onChange:e.setBotPic,required:!0,placeholder:"\u0418\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435",id:"bot-pic"}),Object(i.jsx)("img",{className:"bot-img my-3",src:e.botPic,alt:e.botName}),Object(i.jsx)("small",{className:"form-text text-muted",children:"\u0412\u0441\u0442\u0430\u0432\u043b\u044f\u0435\u043c \u0441\u0441\u044b\u043b\u043a\u0443, \u0442\u0430\u043a \u043a\u0430\u043a \u0445\u0440\u0430\u043d\u0438\u0442\u044c \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u044f \u043d\u0435\u0433\u0434\u0435."})]}),Object(i.jsxs)("div",{className:"form-group",children:[Object(i.jsx)("label",{htmlFor:"bot-channel",children:"\u041a\u0430\u043d\u0430\u043b \u0434\u043b\u044f \u0440\u0430\u043f\u043e\u0440\u0442\u043e\u0432"}),Object(i.jsx)(m,{value:e.botChannelId,onChange:e.setBotChannelId,required:!0,classes:"mb-2",placeholder:"\u041a\u0430\u043d\u0430\u043b \u0434\u043b\u044f \u0440\u0430\u043f\u043e\u0440\u0442\u043e\u0432",id:"bot-channel"}),Object(i.jsx)(p,{value:e.botChannelId,onChange:e.setBotChannelId,id:"bot-channel",options:e.channels}),Object(i.jsx)("small",{className:"form-text text-muted",children:"\u041a\u0430\u043d\u0430\u043b\u044b \u043c\u043e\u0433\u0443\u0442 \u043e\u0431\u043d\u043e\u0432\u043b\u044f\u0442\u044c\u0441\u044f \u0441 \u0437\u0430\u0434\u0435\u0440\u0436\u043a\u043e\u0439. \u0415\u0441\u043b\u0438 \u043d\u0443\u0436\u043d\u044b\u0445 \u043a\u0430\u043d\u0430\u043b\u043e\u0432 \u043d\u0435\u0442, \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0439\u0442\u0435 \u043e\u0431\u044b\u0447\u043d\u043e\u0435 \u043f\u043e\u043b\u0435, \u043a\u043e\u0442\u043e\u0440\u043e\u0435 \u043f\u0440\u0438\u043d\u0438\u043c\u0430\u0435\u0442 \u0432 \u0441\u0435\u0431\u044f ID \u043a\u0430\u043d\u0430\u043b\u0430."})]}),Object(i.jsxs)("div",{className:"form-group",children:[Object(i.jsx)("label",{htmlFor:"bot-legions-channel",children:"\u041a\u0430\u043d\u0430\u043b \u0434\u043b\u044f \u043e\u0431\u0449\u0435\u043d\u0438\u044f"}),Object(i.jsx)(m,{value:e.botChannelLegionsId,onChange:e.setBotChannelLegionsId,required:!0,classes:"mb-2",placeholder:"\u041a\u0430\u043d\u0430\u043b \u0434\u043b\u044f \u043e\u0431\u0449\u0435\u043d\u0438\u044f",id:"bot-legions-channel"}),Object(i.jsx)(p,{value:e.botChannelLegionsId,onChange:e.setBotChannelLegionsId,id:"bot-legions-channel",options:e.channels}),Object(i.jsx)("small",{className:"form-text text-muted",children:"\u041a\u0430\u043d\u0430\u043b\u044b \u043c\u043e\u0433\u0443\u0442 \u043e\u0431\u043d\u043e\u0432\u043b\u044f\u0442\u044c\u0441\u044f \u0441 \u0437\u0430\u0434\u0435\u0440\u0436\u043a\u043e\u0439. \u0415\u0441\u043b\u0438 \u043d\u0443\u0436\u043d\u044b\u0445 \u043a\u0430\u043d\u0430\u043b\u043e\u0432 \u043d\u0435\u0442, \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0439\u0442\u0435 \u043e\u0431\u044b\u0447\u043d\u043e\u0435 \u043f\u043e\u043b\u0435, \u043a\u043e\u0442\u043e\u0440\u043e\u0435 \u043f\u0440\u0438\u043d\u0438\u043c\u0430\u0435\u0442 \u0432 \u0441\u0435\u0431\u044f ID \u043a\u0430\u043d\u0430\u043b\u0430."})]}),Object(i.jsxs)("div",{className:"form-group",children:[Object(i.jsx)("label",{htmlFor:"bot-footer",children:"\u041f\u043e\u0434\u043f\u0438\u0441\u044c"}),Object(i.jsx)(m,{value:e.botFooter,onChange:e.setBotFooter,required:!0,placeholder:"\u041f\u043e\u0434\u043f\u0438\u0441\u044c",id:"bot-footer"})]})]}),Object(i.jsxs)("div",{className:"col-lg-6",children:[Object(i.jsxs)("div",{className:"form-group",children:[Object(i.jsx)("label",{htmlFor:"bot-legion",children:"\u0421\u043f\u0438\u0441\u043e\u043a \u043f\u043e\u0434\u0440\u0430\u0437\u0434\u0435\u043b\u0435\u043d\u0438\u0439"}),Object(i.jsx)(m,{value:e.botLegion,onChange:e.setBotLegion,required:!0,placeholder:"\u0421\u043f\u0438\u0441\u043e\u043a \u043f\u043e\u0434\u0440\u0430\u0437\u0434\u0435\u043b\u0435\u043d\u0438\u0439",id:"bot-legion"}),Object(i.jsxs)("small",{className:"form-text text-muted",children:["\u0427\u0435\u0440\u0435\u0437 ",Object(i.jsx)("b",{children:","})," \u0438 \u0431\u0435\u0437 \u043f\u0440\u043e\u0431\u0435\u043b\u043e\u0432, \u043f\u0440\u0438\u043c\u0435\u0440 - ",Object(i.jsx)("b",{children:"212,41,501"}),"."," ",Object(i.jsx)("b",{children:"none"})," - \u0434\u043b\u044f \u043e\u0442\u0441\u043b\u0435\u0436\u0438\u0432\u0430\u043d\u0438\u044f \u0412\u0421\u0415\u0425 \u043d\u0430 \u0441\u0435\u0440\u0432\u0435\u0440\u0435."]})]}),Object(i.jsxs)("div",{className:"form-group",children:[Object(i.jsx)("label",{htmlFor:"bot-color",children:"\u0426\u0432\u0435\u0442"}),Object(i.jsx)(x.a,{color:e.botColor,onChangeComplete:e.setBotColor})]}),Object(i.jsxs)("div",{className:"form-group",children:[Object(i.jsx)("label",{htmlFor:"bot-ip",children:"IP"}),Object(i.jsx)(m,{value:e.botIp,onChange:e.setBotIp,required:!0,placeholder:"IP",id:"bot-ip"})]}),Object(i.jsxs)("div",{className:"form-group",children:[Object(i.jsx)("label",{htmlFor:"bot-port",children:"\u041f\u043e\u0440\u0442"}),Object(i.jsx)(m,{value:e.botPort,onChange:e.setBotPort,required:!0,placeholder:"\u041f\u043e\u0440\u0442",id:"bot-port"})]}),Object(i.jsxs)("div",{className:"form-group",children:[Object(i.jsx)("label",{htmlFor:"battlemetric",children:"\u0421\u0441\u044b\u043b\u043a\u0430 \u043d\u0430 battlemetrics.com"}),Object(i.jsx)(m,{value:e.battleMetricsUrl,onChange:e.setBattleMetricUrl,required:!1,placeholder:"battlemetrics.com",id:"battlemetric"}),Object(i.jsx)("small",{className:"form-text text-muted",children:'\u0417\u0430\u043f\u043e\u043b\u043d\u044f\u0435\u0442\u0441\u044f \u0422\u041e\u041b\u042c\u041a\u041e \u0432 \u0442\u043e\u043c \u0441\u043b\u0443\u0447\u0430\u0435, \u043a\u043e\u0433\u0434\u0430 \u0431\u043e\u0442 \u043d\u0435\u0441\u043f\u043e\u0441\u043e\u0431\u0435\u043d "\u0434\u043e\u0441\u0442\u0443\u0447\u0430\u0442\u044c\u0441\u044f" \u0434\u043e \u0441\u0435\u0440\u0432\u0435\u0440\u0430 \u0441\u0432\u043e\u0438\u043c\u0438 \u0441\u0440\u0435\u0434\u0441\u0442\u0432\u0430\u043c\u0438.'})]})]}),Object(i.jsx)("div",{className:"col-12",children:Object(i.jsx)("div",{className:"form-group mt-4",children:Object(i.jsx)("h3",{children:"\u041f\u0440\u0438\u0432\u0435\u0442\u0441\u0442\u0432\u0438\u0435 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439"})})}),Object(i.jsx)("div",{className:"col-12",children:Object(i.jsxs)("div",{className:"form-group",children:[Object(i.jsx)("label",{htmlFor:"bot-greetings-channel",children:"\u041a\u0430\u043d\u0430\u043b \u0434\u043b\u044f \u043f\u0440\u0438\u0432\u0435\u0442\u0441\u0442\u0432\u0438\u044f"}),Object(i.jsx)(m,{value:e.greetingsChannel,onChange:e.setGreetingsChannel,required:!1,classes:"mb-2",placeholder:"\u041a\u0430\u043d\u0430\u043b \u0434\u043b\u044f \u043f\u0440\u0438\u0432\u0435\u0442\u0441\u0442\u0432\u0438\u044f",id:"bot-greetings-channel"}),Object(i.jsx)(p,{value:e.greetingsChannel,onChange:e.setGreetingsChannel,id:"bot-greetings-channel",options:e.channels}),Object(i.jsx)("small",{className:"form-text text-muted",children:"\u041a\u0430\u043d\u0430\u043b\u044b \u043c\u043e\u0433\u0443\u0442 \u043e\u0431\u043d\u043e\u0432\u043b\u044f\u0442\u044c\u0441\u044f \u0441 \u0437\u0430\u0434\u0435\u0440\u0436\u043a\u043e\u0439. \u0415\u0441\u043b\u0438 \u043d\u0443\u0436\u043d\u044b\u0445 \u043a\u0430\u043d\u0430\u043b\u043e\u0432 \u043d\u0435\u0442, \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0439\u0442\u0435 \u043e\u0431\u044b\u0447\u043d\u043e\u0435 \u043f\u043e\u043b\u0435, \u043a\u043e\u0442\u043e\u0440\u043e\u0435 \u043f\u0440\u0438\u043d\u0438\u043c\u0430\u0435\u0442 \u0432 \u0441\u0435\u0431\u044f ID \u043a\u0430\u043d\u0430\u043b\u0430."})]})}),Object(i.jsx)("div",{className:"col-lg-6",children:Object(i.jsxs)("div",{className:"form-group",children:[Object(i.jsx)("label",{htmlFor:"greetings-text",children:"\u0422\u0435\u043a\u0441\u0442 \u043f\u0440\u0438\u0432\u0435\u0442\u0441\u0442\u0432\u0438\u044f"}),Object(i.jsx)(f,{value:e.greetingsText,onChange:e.setGreetingsText,required:!1,placeholder:"\u0422\u0435\u043a\u0441\u0442 \u043f\u0440\u0438\u0432\u0435\u0442\u0441\u0442\u0432\u0438\u044f",id:"greetings-text"})]})}),Object(i.jsx)("div",{className:"col-lg-6",children:Object(i.jsxs)("div",{className:"form-group",children:[Object(i.jsx)("label",{htmlFor:"greetings-pic",children:"\u0418\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435 \u043f\u0440\u0438\u0432\u0435\u0442\u0441\u0442\u0432\u0438\u044f"}),Object(i.jsx)(m,{value:e.greetingsImage,onChange:e.setGreetingsImage,required:!1,placeholder:"\u0418\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435",id:"greetings-pic"}),Object(i.jsx)("img",{className:"bot-img my-3",src:e.greetingsImage,alt:"\u0418\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435 \u043f\u0440\u0438 \u043f\u0440\u0438\u0432\u0435\u0442\u0441\u0442\u0432\u0438\u0438 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f"}),Object(i.jsx)("small",{className:"form-text text-muted",children:"\u0412\u0441\u0442\u0430\u0432\u043b\u044f\u0435\u043c \u0441\u0441\u044b\u043b\u043a\u0443, \u0442\u0430\u043a \u043a\u0430\u043a \u0445\u0440\u0430\u043d\u0438\u0442\u044c \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u044f \u043d\u0435\u0433\u0434\u0435."})]})}),Object(i.jsx)("div",{className:"col-12",children:Object(i.jsx)("div",{className:"form-group",children:Object(i.jsx)(d,{text:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c",classes:"btn-block",type:"submit"})})})]})})})}):Object(i.jsx)(g,{curGuild:e.curGuild})}var S=n(17),T=n(14),N=n.n(T),_=n(27),U=n(109),R=[],C="ADD_ALERT",I="REMOVE_ALERT",E=function(e){return{type:C,payload:e}},L=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:R,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case C:return[].concat(Object(U.a)(e),[t.payload]);case I:return e.filter((function(e){return e.id!==t.alertId}));default:return e}};n(324).config();var y=[{name:"\u0413\u043b\u0430\u0432\u043d\u0430\u044f",url:"/"},{name:"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438",url:"/settings"},{name:"\u0421\u043f\u0438\u0441\u043e\u043a",url:"/users",exact:!1},{name:"\u0421\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0430",url:"/stats"},{name:"\u041b\u043e\u0433\u0438",url:"/logs"},{name:"\u0421\u0432\u043e\u0434\u043a\u0430",url:"/userdata"}],G={REDIRECT_URI:"https://heshjunior.herokuapp.com/",DS_AUTH_URL:"https://discord.com/api/oauth2/authorize?client_id=873224328701947924&redirect_uri=https%3A%2F%2Fheshjunior.herokuapp.com%2F&response_type=code&scope=identify%20email%20guilds",COOKIE_ACCESS:"ds-auth-access",COOKIE_REFRESH:"ds-auth-refresh",BOT_API_URL:"https://heshjunior.herokuapp.com/api"},w="cur-server",D=n(328),k={CUR_GUILD:!1,GUILDS:!1,CUR_GUILD_USERS:!1,CUR_USER_PORTFOLIO:!1},A="SET_USER_GUILDS",P="CHANGE_CURRENT_GUILD",F="SET_GUILD_USERS",H="SET_USER_PORTFOLIO",B=function(e,t){return{type:A,payload:e,allServers:t}},M=function(e){return{type:F,payload:e}},V=function(e){return{type:H,payload:e}},q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case A:t.payload=t.payload.filter((function(e){return!!t.allServers[e.id]}));var n=t.payload[0]?t.payload[0]:{},c=localStorage.getItem(w);return c&&t.payload.find((function(e){return e.id===c}))&&(n=t.payload.find((function(e){return e.id===c}))),Object(S.a)(Object(S.a)({},e),{},{GUILDS:t.payload,CUR_GUILD:n});case P:return localStorage.setItem(w,t.id),Object(S.a)(Object(S.a)({},e),{},{CUR_GUILD:e.GUILDS.find((function(e){return e.id===t.id}))});case F:return Object(S.a)(Object(S.a)({},e),{},{CUR_GUILD_USERS:t.payload});case H:return Object(S.a)(Object(S.a)({},e),{},{CUR_USER_PORTFOLIO:t.payload});default:return e}},K={SETTINGS:!1,STAT:!1,CHANNELS:[],ALL_SERVERS:{}},J="SET_SERVER_SETTINGS",Y="SET_SERVER_STAT",W="SET_SERVER_CHANNELS",z="SET_ALL_SERVERS",Z=new Headers;Z.append("Content-Type","application/json");var X=function(e,t){return function(){var n=Object(_.a)(N.a.mark((function n(c){var a;return N.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:(a=new URLSearchParams).append("auth_token",e),a.append("action","GET_SERVER_SETTINGS"),a.append("server_id",t),fetch(G.BOT_API_URL+"?"+a.toString(),{method:"GET",headers:Z}).then((function(e){return e.json()})).then((function(e){e.error?c(E({type:"danger",text:"\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u044f \u043d\u0430\u0441\u0442\u0440\u043e\u0435\u043a \u0441\u0435\u0440\u0432\u0435\u0440\u0430: ".concat(e.text),id:(new Date).getTime()})):(e.serverId=t,c(Q(e)),c(M(!1)),c(ee(!1)))})).catch((function(e){console.log(e)}));case 5:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},Q=function(e){return{type:J,payload:e}},$=function(e,t){return function(){var n=Object(_.a)(N.a.mark((function n(c){var a;return N.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:(a=new URLSearchParams).append("auth_token",e),a.append("action","GET_SERVER_STATS"),a.append("server_id",t),fetch(G.BOT_API_URL+"?"+a.toString(),{method:"GET",headers:Z}).then((function(e){return e.json()})).then((function(e){e.error?c(E({type:"danger",text:"\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u044f \u0441\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0438 \u0441\u0435\u0440\u0432\u0435\u0440\u0430: ".concat(e.text),id:(new Date).getTime()})):c(ee(e))})).catch((function(e){console.log(e)}));case 5:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},ee=function(e){return{type:Y,payload:e}},te=function(e,t){return function(){var n=Object(_.a)(N.a.mark((function n(c){var a;return N.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:(a=new URLSearchParams).append("auth_token",e),a.append("action","GET_GUILD_CHANNELS"),a.append("server_id",t),fetch(G.BOT_API_URL+"?"+a.toString(),{method:"GET",headers:Z}).then((function(e){return e.json()})).then((function(e){e.error?c(E({type:"danger",text:"\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u044f \u043a\u0430\u043d\u0430\u043b\u043e\u0432 \u0441\u0435\u0440\u0432\u0435\u0440\u0430: ".concat(e.text),id:(new Date).getTime()})):c(ne(e))})).catch((function(e){console.log(e)}));case 5:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},ne=function(e){return{type:W,payload:e}},ce=function(e){return{type:z,payload:e}},ae=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:K,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case J:return Object(S.a)(Object(S.a)({},e),{},{SETTINGS:t.payload});case Y:return Object(S.a)(Object(S.a)({},e),{},{STAT:t.payload});case W:var n=[];for(var c in t.payload){var a=t.payload[c];n.push({name:a.name,id:c,type:a.type})}return Object(S.a)(Object(S.a)({},e),{},{CHANNELS:n});case z:return Object(S.a)(Object(S.a)({},e),{},{ALL_SERVERS:t.payload});default:return e}};function re(){return Object(i.jsx)("div",{className:"card",children:Object(i.jsxs)("div",{className:"card-body",children:[Object(i.jsx)("h2",{children:"\u041f\u043e\u0434\u0445\u043e\u0434\u044f\u0449\u0438\u0435 \u0441\u0435\u0440\u0432\u0435\u0440\u0430 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u044b"}),"\u0412\u0438\u0434\u0438\u043c\u043e \u0443 \u0432\u0430\u0441 \u043d\u0435\u0442 \u0441\u0435\u0440\u0432\u0435\u0440\u043e\u0432 \u0433\u0434\u0435 \u043f\u0440\u0438\u0441\u0443\u0442\u0441\u0442\u0432\u0443\u0435\u0442 \u0434\u0430\u043d\u043d\u044b\u0439 \u0431\u043e\u0442"]})})}function se(){var e=Object(O.c)(),t=Object(O.d)((function(e){return e.guildsReducer}),O.b),n=Object(O.d)((function(e){return e.firebaseReducer})),a=Object(c.useContext)(l),r=Object(c.useState)(""),s=Object(h.a)(r,2),d=s[0],u=s[1],j=Object(c.useState)(""),b=Object(h.a)(j,2),m=b[0],p=b[1],f=Object(c.useState)(""),x=Object(h.a)(f,2),g=x[0],S=x[1],T=Object(c.useState)(""),U=Object(h.a)(T,2),R=U[0],C=U[1],I=Object(c.useState)(""),L=Object(h.a)(I,2),y=L[0],w=L[1],D=Object(c.useState)(""),k=Object(h.a)(D,2),A=k[0],P=k[1],F=Object(c.useState)(""),H=Object(h.a)(F,2),B=H[0],M=H[1],V=Object(c.useState)(""),q=Object(h.a)(V,2),K=q[0],J=q[1],Y=Object(c.useState)(""),W=Object(h.a)(Y,2),z=W[0],$=W[1],ee=Object(c.useState)(""),ne=Object(h.a)(ee,2),ce=ne[0],ae=ne[1],se=Object(c.useState)(!1),ie=Object(h.a)(se,2),oe=ie[0],le=ie[1],de=Object(c.useState)(""),ue=Object(h.a)(de,2),je=ue[0],be=ue[1],he=Object(c.useState)(""),Oe=Object(h.a)(he,2),me=Oe[0],pe=Oe[1],fe=Object(c.useState)(""),xe=Object(h.a)(fe,2),ge=xe[0],ve=xe[1],Se=function(){e(te(a.authToken,t.CUR_GUILD.id))};Object(c.useEffect)((function(){if(t.CUR_GUILD.id){if(n.SETTINGS)return n.CHANNELS.length?t.CUR_GUILD.id!==n.SETTINGS.serverId?(e(Q(!1)),void Se()):void 0:Se();e(X(a.authToken,t.CUR_GUILD.id))}}),[t,n]),Object(c.useEffect)((function(){Object.keys(n.SETTINGS).length?(u(n.SETTINGS.botTitle),p(n.SETTINGS.botThumb),S(n.SETTINGS.botChannelId),C(n.SETTINGS.botLegionsChannelId),w(n.SETTINGS.botLegion),P(n.SETTINGS.botFooter),M(n.SETTINGS.botColor),J(n.SETTINGS.botLegionServerIP),$(n.SETTINGS.botLegionServerPort),ae(n.SETTINGS.battleMetricsUrl),le(n.SETTINGS.isAdmin),be(n.SETTINGS.greetingsText),pe(n.SETTINGS.greetingsChannel),ve(n.SETTINGS.greetingsImage)):(u(""),p(""),S(""),C(""),w(""),P(""),M(""),J(""),$(""),ae(""),le(!1),be(""),pe(""),ve(""))}),[n.SETTINGS]);return 0===t.GUILDS.length?Object(i.jsx)(re,{}):n.SETTINGS?Object(i.jsx)(v,{botName:d,setBotName:function(e){e.target.value.length<=32&&u(e.target.value)},botPic:m,setBotPic:function(e){p(e.target.value)},botChannelId:g,setBotChannelId:function(e){S(e.target.value)},botChannelLegionsId:R,setBotChannelLegionsId:function(e){C(e.target.value)},botLegion:y,setBotLegion:function(e){var t=e.target.value;t=t.replace(" ",""),w(t)},botFooter:A,setBotFooter:function(e){P(e.target.value)},botColor:B,setBotColor:function(e){M(e.hex)},botIp:K,setBotIp:function(e){J(e.target.value)},botPort:z,setBotPort:function(e){$(e.target.value)},battleMetricsUrl:ce,setBattleMetricUrl:function(e){var t=e.target.value,n=t.match(/https:\/\/www.battlemetrics.com\/servers\/arma3\/(\d+)/i);ae(n?t:"")},channels:function(e){var t=[];for(var n in e){var c=e[n];"GUILD_TEXT"===c.type&&t.push({text:c.name,value:c.id})}return t}(n.CHANNELS),saveSettingsForm:function(n){n.preventDefault();var c,r,s,i={botTitle:d,botThumb:m,botChannelId:g,botLegionsChannelId:R,botLegion:y,botFooter:A,botColor:B,botLegionServerIP:K,botLegionServerPort:z,battleMetricsUrl:ce,isAdmin:oe,greetingsChannel:me,greetingsImage:ge,greetingsText:je};e((c=a.authToken,r=t.CUR_GUILD.id,s=i,function(){var e=Object(_.a)(N.a.mark((function e(t){var n;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(n=new URLSearchParams).append("auth_token",c),n.append("action","UPDATE_GUILD_SETTINGS"),n.append("server_id",r),n.append("new_settings",JSON.stringify(s)),fetch(G.BOT_API_URL+"?"+n.toString(),{method:"GET",headers:Z}).then((function(e){return e.json()})).then((function(e){e.error?t(E({type:"danger",text:"\u041e\u0448\u0438\u0431\u043a\u0430 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u044f \u043d\u0430\u0441\u0442\u0440\u043e\u0435\u043a \u0441\u0435\u0440\u0432\u0435\u0440\u0430: ".concat(e.text),id:(new Date).getTime()})):(t(E({type:"success",text:e.text,id:(new Date).getTime()})),s.serverId=r,t(Q(s)))})).catch((function(e){console.log(e)}));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()))},isAdmin:oe,setGreetingsChannel:function(e){pe(e.target.value)},setGreetingsText:function(e){be(e.target.value)},setGreetingsImage:function(e){ve(e.target.value)},greetingsChannel:me,greetingsText:je,greetingsImage:ge,curGuild:t.CUR_GUILD}):Object(i.jsx)(o,{card:!0})}function ie(){return Object(i.jsx)(se,{})}n(329);function oe(e){var t=e.settings,n=void 0===t?{}:t,c=e.stat,a=void 0!==c&&c,r=e.channels,s=void 0===r?[]:r,l=e.curGuild,d=void 0===l?{}:l,u=e.searchInputChange,j=void 0===u?function(e){}:u,b=e.searchInputValue,h=void 0===b?"":b,O=function(e){var t=s.find((function(t){return t.id===e}));return t?Object(i.jsx)("span",{className:"channel-name",title:t.id,children:t.name},t.id):e};return Object(i.jsxs)("div",{children:[n?Object.keys(n).length?Object(i.jsxs)("div",{className:"list-group",children:[Object(i.jsx)("div",{className:"list-group-item flex-column align-items-start",children:Object(i.jsx)("div",{className:"d-flex w-100 justify-content-between",children:Object(i.jsx)("h5",{className:"mb-0",children:d.name})})}),Object(i.jsx)("div",{className:"list-group-item flex-column align-items-start bot-main-info pt-4",children:Object(i.jsxs)("div",{className:"mb-1 row",children:[Object(i.jsxs)("div",{className:"col-md-6",children:[Object(i.jsx)("p",{className:"font-weight-bold text-center h2 mb-4",children:n.botTitle}),Object(i.jsx)("p",{className:"text-center",children:Object(i.jsx)("img",{className:"rounded-circle border",src:n.botThumb,alt:n.botTitle})})]}),Object(i.jsxs)("div",{className:"col-md-6 bot-settings",children:[Object(i.jsxs)("p",{children:[Object(i.jsx)("b",{children:"\u041a\u0430\u043d\u0430\u043b \u0434\u043b\u044f \u0440\u0430\u043f\u043e\u0440\u0442\u043e\u0432:"}),"\xa0",O(n.botChannelId)]}),Object(i.jsxs)("p",{children:[Object(i.jsx)("b",{children:"\u041a\u0430\u043d\u0430\u043b \u0434\u043b\u044f \u043e\u0431\u0449\u0435\u043d\u0438\u044f:"}),"\xa0",O(n.botLegionsChannelId)]}),Object(i.jsxs)("p",{children:[Object(i.jsx)("b",{children:"\u041f\u043e\u0434\u043f\u0438\u0441\u044c:"})," ",n.botFooter]}),Object(i.jsxs)("p",{children:[Object(i.jsx)("b",{children:"\u041f\u043e\u0434\u0440\u0430\u0437\u0434\u0435\u043b\u0435\u043d\u0438\u044f:"})," ",n.botLegion]}),Object(i.jsxs)("p",{className:"bot-color",children:[Object(i.jsx)("b",{children:"\u0426\u0432\u0435\u0442:"})," ",Object(i.jsx)("span",{style:{backgroundColor:n.botColor}})]}),Object(i.jsxs)("p",{children:[Object(i.jsx)("b",{children:"IP:"})," ",n.botLegionServerIP,":",n.botLegionServerPort]})]})]})})]}):Object(i.jsx)("div",{className:"card",children:Object(i.jsx)("div",{className:"card-body",children:"\u041d\u0430\u0441\u0442\u0440\u043e\u0435\u043a \u0431\u043e\u0442\u0430 \u043d\u0435 \u043e\u0431\u043d\u0430\u0440\u0443\u0436\u0435\u043d\u043e"})}):Object(i.jsx)(o,{card:!0}),a?Object(i.jsx)("div",{className:"list-group mt-4",children:Object(i.jsxs)("div",{className:"list-group-item flex-column align-items-start",children:[Object(i.jsx)("div",{className:"mb-4 w-100 justify-content-between",children:Object(i.jsxs)("div",{className:"row",children:[Object(i.jsx)("div",{className:"col-6",children:Object(i.jsx)("h5",{className:"mb-3",children:"\u0411\u044b\u043b\u0438 \u0441\u0435\u0433\u043e\u0434\u043d\u044f"})}),Object(i.jsx)("div",{className:"col-6",children:Object(i.jsx)(m,{value:h,onChange:j,placeholder:"\u041f\u043e\u0438\u0441\u043a"})})]})}),Object(i.jsx)("div",{className:"mb-1 stat-table-wrapper",children:Object(i.jsxs)("table",{className:"table",children:[Object(i.jsx)("thead",{children:Object(i.jsxs)("tr",{children:[Object(i.jsx)("th",{scope:"col",children:"#"}),Object(i.jsx)("th",{scope:"col",children:"\u0418\u043c\u044f"})]})}),Object(i.jsx)("tbody",{children:a.map((function(e,t){return Object(i.jsxs)("tr",{children:[Object(i.jsx)("th",{scope:"row",children:t+1}),Object(i.jsx)("td",{children:e})]},t)}))})]})})]})}):Object(i.jsx)(o,{card:!0})]})}function le(){var e=Object(O.c)(),t=Object(O.d)((function(e){return e.guildsReducer})),n=Object(O.d)((function(e){return e.firebaseReducer})),a=Object(c.useContext)(l),r=Object(c.useState)(""),s=Object(h.a)(r,2),o=s[0],d=s[1],u=function(){e($(a.authToken,t.CUR_GUILD.id))},j=function(){e(te(a.authToken,t.CUR_GUILD.id))};Object(c.useEffect)((function(){if(t.CUR_GUILD.id){if(!n.SETTINGS)return e(X(a.authToken,t.CUR_GUILD.id)),void u();if(!n.SETTINGS||n.STAT)return n.CHANNELS.length?t.CUR_GUILD.id!==n.SETTINGS.serverId?(e(Q(!1)),e(ee(!1)),void j()):void 0:j();u()}}),[t,n]);var b=Object(c.useMemo)((function(){if(!n.STAT)return!1;var e=n.STAT,t=new Date,c=[];for(var a in e){var r=e[a],s=new Date(a);s.getDate()===t.getDate()&&s.getMonth()===t.getMonth()&&s.getFullYear()===t.getFullYear()&&r.forEach((function(e){return c.push(e.name)}))}return c=Object(U.a)(new Set(c)),o.length?c.filter((function(e){return e.toLowerCase().includes(o.toLowerCase())})):c}),[n.STAT,o]);return 0!==t.GUILDS.length?Object(i.jsx)(oe,{settings:n.SETTINGS,stat:b,channels:n.CHANNELS,curGuild:t.CUR_GUILD,searchInputChange:function(e){d(e.target.value)},searchInputValue:o}):Object(i.jsx)(re,{})}function de(){return Object(i.jsx)(le,{})}var ue=n(105);n(330);function je(e){return e.curUser&&e.curUser.username?Object(i.jsxs)("div",{className:"card user-detail",children:[Object(i.jsxs)("div",{className:"card-header",children:[e.curUser.avatar&&Object(i.jsx)("div",{className:"detail-user-img",children:Object(i.jsx)("img",{src:e.curUser.avatar,alt:e.curUser.username})}),Object(i.jsxs)("div",{className:"detail-user-info",children:[e.curUser.nickname&&Object(i.jsx)("div",{className:"detail-user-nickname",children:e.curUser.nickname}),Object(i.jsxs)("div",{className:"detail-user-username",children:[e.curUser.username,"#",e.curUser.discriminator]})]})]}),Object(i.jsxs)("div",{className:"card-body",children:[e.edit?Object(i.jsxs)("div",{children:[Object(i.jsxs)("div",{className:"form-group",children:[Object(i.jsx)("label",{htmlFor:"bot-text",children:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435"}),Object(i.jsx)(f,{value:e.text,onChange:e.textChange,placeholder:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435",id:"bot-text"})]}),Object(i.jsxs)("div",{className:"form-group",children:[Object(i.jsx)("label",{htmlFor:"bot-pic",children:"\u0418\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435"}),Object(i.jsx)(m,{value:e.image,onChange:e.imageChange,placeholder:"\u0418\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435",id:"bot-pic"}),Object(i.jsx)("img",{className:"bot-img my-3",src:e.image,alt:e.curUser.username}),Object(i.jsx)("small",{className:"form-text text-muted",children:"\u0412\u0441\u0442\u0430\u0432\u043b\u044f\u0435\u043c \u0441\u0441\u044b\u043b\u043a\u0443, \u0442\u0430\u043a \u043a\u0430\u043a \u0445\u0440\u0430\u043d\u0438\u0442\u044c \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u044f \u043d\u0435\u0433\u0434\u0435."})]})]}):Object(i.jsxs)("div",{children:[Object(i.jsx)("p",{className:"card-text",children:e.portfolio.text?e.portfolio.text:"\u0414\u0430\u043d\u043d\u044b\u0435 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u044b"}),e.portfolio.image&&Object(i.jsx)("img",{src:e.portfolio.image,alt:e.curUser.username})]}),e.isAdmin&&Object(i.jsx)(d,{text:e.buttonText,onClick:e.onClick,classes:"mt-3"})]})]}):Object(i.jsx)("div",{className:"card",children:Object(i.jsx)("div",{className:"card-body",children:"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d"})})}var be=n(47);n(331);function he(e){return Object(i.jsxs)("div",{className:"list-group",children:[Object(i.jsx)("div",{className:"list-group-item",children:Object(i.jsx)(m,{value:e.searchValue,onChange:e.changeSearchValue,placeholder:"\u041f\u043e\u0438\u0441\u043a..."})}),e.users.length?e.users.map((function(e){return Object(i.jsx)(be.b,{to:"/users/".concat(e.id),className:"list-group-item list-group-item-action",children:Object(i.jsxs)("p",{className:"user-list-item m-0",children:[e.avatar&&Object(i.jsx)("span",{className:"user-list-image mr-3",children:Object(i.jsx)("img",{src:e.avatar,alt:e.username})}),Object(i.jsxs)("span",{className:"user-list-info",children:[e.nickname&&Object(i.jsx)("span",{className:"user-list-nickname mb-1 d-block",children:e.nickname}),Object(i.jsxs)("span",{className:"user-list-username mb-1 d-block",children:[e.username,"#",e.discriminator]})]})]})},e.id)})):Object(i.jsx)("div",{className:"list-group-item",children:"\u0421\u043f\u0438\u0441\u043e\u043a \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439 \u043f\u0443\u0441\u0442"})]})}function Oe(){var e=Object(O.d)((function(e){return e.guildsReducer})),t=Object(O.d)((function(e){return e.firebaseReducer})),n=Object(c.useContext)(l),a=Object(O.c)(),r=Object(ue.useRouteMatch)("/users/:id"),s=r&&r.params.id?r.params.id:0,d=Object(c.useState)(""),u=Object(h.a)(d,2),j=u[0],b=u[1],m=Object(c.useState)(""),p=Object(h.a)(m,2),f=p[0],x=p[1],g=Object(c.useState)("\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c"),v=Object(h.a)(g,2),S=v[0],T=v[1],N=Object(c.useState)(!1),_=Object(h.a)(N,2),U=_[0],R=_[1],C=Object(c.useState)(""),I=Object(h.a)(C,2),L=I[0],y=I[1],w=Object(c.useState)(!1),k=Object(h.a)(w,2),A=k[0],P=k[1],F=function(){var t,c,r;a((t=n.authToken,c=e.CUR_GUILD.id,r=e.CUR_GUILD_USERS,function(e){var n=new URLSearchParams;n.append("auth_token",t),n.append("server_id",c),n.append("action","GET_GUILD_USERS");var a=new Headers;a.append("Content-Type","application/json"),D(G.BOT_API_URL+"?"+n.toString(),{method:"GET",headers:a}).then((function(e){return e.json()})).then((function(t){t.error?e(E({type:"danger",text:"\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439 \u0433\u0438\u043b\u044c\u0434\u0438\u0438: ".concat(t.text),id:(new Date).getTime()})):JSON.stringify(r)!==JSON.stringify(t)&&e(M(t))})).catch((function(e){console.log(e)}))}))},H=function(t){a(function(e,t,n,c){return function(a){var r=new URLSearchParams;r.append("auth_token",e),r.append("server_id",t),r.append("user_id",n),r.append("action","GET_USER_PORTFOLIO");var s=new Headers;s.append("Content-Type","application/json"),D(G.BOT_API_URL+"?"+r.toString(),{method:"GET",headers:s}).then((function(e){return e.json()})).then((function(e){e.error?a(E({type:"danger",text:"\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u044f \u043f\u043e\u0440\u0442\u0444\u043e\u043b\u0438\u043e \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f: ".concat(e.text),id:(new Date).getTime()})):(e.userId=n,JSON.stringify(e)!==JSON.stringify(c)&&a(V(e)))})).catch((function(e){console.log(e)}))}}(n.authToken,e.CUR_GUILD.id,s,t))},B=function(){a(X(n.authToken,e.CUR_GUILD.id))};Object(c.useEffect)((function(){if(e.CUR_GUILD.id)return t.SETTINGS?e.CUR_GUILD_USERS?e.CUR_GUILD.id!==t.SETTINGS.serverId?(a(M(!1)),void B()):void 0:F():B()}),[e,t]),Object(c.useEffect)((function(){if(e.CUR_GUILD.id)return s&&!e.CUR_USER_PORTFOLIO?(R(!1),T("\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c"),void H(e.CUR_USER_PORTFOLIO)):void(s&&e.CUR_USER_PORTFOLIO&&s!==e.CUR_USER_PORTFOLIO.userId&&a(V(!1)))}),[s,e]),Object(c.useEffect)((function(){e.CUR_USER_PORTFOLIO&&(b(e.CUR_USER_PORTFOLIO.image),x(e.CUR_USER_PORTFOLIO.text),P(e.CUR_USER_PORTFOLIO.isAdmin))}),[e.CUR_USER_PORTFOLIO]);return 0===e.GUILDS.length?Object(i.jsx)(re,{}):s?e.CUR_USER_PORTFOLIO&&e.CUR_GUILD_USERS?Object(i.jsx)(je,{portfolio:e.CUR_USER_PORTFOLIO,curUser:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return e.filter((function(e){return e.id===t}))[0]}(e.CUR_GUILD_USERS,s),curGuild:e.CUR_GUILD,buttonText:S,onClick:function(){if(T(U?"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c":"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"),U){var t={text:f,image:j,isAdmin:A};a(function(e,t,n,c){return function(a){var r=new URLSearchParams;r.append("auth_token",e),r.append("server_id",t),r.append("user_id",n),r.append("new_portfolio",JSON.stringify(c)),r.append("action","UPDATE_USER_PORTFOLIO");var s=new Headers;s.append("Content-Type","application/json"),D(G.BOT_API_URL+"?"+r.toString(),{method:"GET",headers:s}).then((function(e){return e.json()})).then((function(e){e.error?a(E({type:"danger",text:"\u041e\u0448\u0438\u0431\u043a\u0430 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u044f \u043f\u043e\u0440\u0442\u0444\u043e\u043b\u0438\u043e \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f: ".concat(e.text),id:(new Date).getTime()})):(a(E({type:"success",text:"".concat(e.text),id:(new Date).getTime()})),c.userId=n,a(V(c)))})).catch((function(e){console.log(e)}))}}(n.authToken,e.CUR_GUILD.id,s,t)),R(!1)}else R(!U)},isAdmin:A,edit:U,image:j,imageChange:function(e){b(e.target.value)},text:f,textChange:function(e){x(e.target.value)}}):Object(i.jsx)(o,{card:!0}):e.CUR_GUILD_USERS?Object(i.jsx)(i.Fragment,{children:Object(i.jsx)(he,{users:function e(t){var n=[];return e&&(n=t),L&&(n=n.filter((function(e){return e.nickname&&e.nickname.toLowerCase().includes(L.toLowerCase())||e.username.toLowerCase().includes(L.toLowerCase())}))),n}(e.CUR_GUILD_USERS),curGuild:e.CUR_GUILD,searchValue:L,changeSearchValue:function(e){y(e.target.value)}})}):Object(i.jsx)(o,{card:!0})}function me(){return Object(i.jsx)(Oe,{})}var pe=n(104),fe=n(403),xe=n(404),ge=n(408),ve=n(203),Se=n(204),Te=n(90),Ne=n(210);n(333);function _e(e){return Object(i.jsx)("div",{className:"card chart-wrapper",children:Object(i.jsx)("div",{className:"card-body chart",children:Object(i.jsx)(fe.a,{width:"100%",height:"100%",children:Object(i.jsxs)(xe.a,{width:500,height:400,data:e.data,margin:{top:10,right:30,left:0,bottom:0},children:[Object(i.jsx)(ge.a,{strokeDasharray:"3 3"}),Object(i.jsx)(ve.a,{dataKey:"name"}),Object(i.jsx)(Se.a,{}),Object(i.jsx)(Te.a,{}),Object(i.jsx)(Ne.a,{type:"monotone",dataKey:e.dataKey,stroke:"#8884d8",fill:"#8884d8"})]})})})})}function Ue(){var e=Object(O.d)((function(e){return e.guildsReducer})),t=Object(O.d)((function(e){return e.firebaseReducer})),n=Object(O.c)(),a=Object(c.useContext)(l),r=function(){n(X(a.authToken,e.CUR_GUILD.id))},s=function(e,t){for(e=e.toString();e.length<t;)e="0"+e;return e};Object(c.useEffect)((function(){if(e.CUR_GUILD.id)return t.SETTINGS?void(t.STAT?e.CUR_GUILD.id===t.SETTINGS.serverId||r():n($(a.authToken,e.CUR_GUILD.id))):r()}),[e,t]);var d="\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0438\u0433\u0440\u043e\u043a\u043e\u0432";return 0===e.GUILDS.length?Object(i.jsx)(re,{}):t.STAT?Object(i.jsx)(_e,{data:function(e){var t=[],n={},c=new Date,a={};Object.keys(e).sort((function(e,t){return new Date(e)>new Date(t)})).forEach((function(t){a[t]=e[t]}));var r=function(t){var a=e[t],r=new Date(t);if(r.getMonth()!==c.getMonth())return"continue";a.forEach((function(e){var t="".concat(s(r.getDate(),2),".").concat(s(r.getMonth()+1,2),".").concat(r.getFullYear());n[t]||(n[t]={}),n[t][e.name]=!0}))};for(var i in a)r(i);for(var o in n){var l=n[o],u=Object(pe.a)({name:o},d,Object.keys(l).length);t.push(u)}return t}(t.STAT),dataKey:d}):Object(i.jsx)(o,{card:!0})}function Re(){return Object(i.jsx)(Ue,{})}var Ce=new Headers;Ce.append("Content-Type","application/json");var Ie=function(){var e=Object(_.a)(N.a.mark((function e(t,n){var c,a;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(c=new URLSearchParams).append("auth_token",t),c.append("action","GET_SERVER_LOGS"),c.append("server_id",n),e.next=6,fetch(G.BOT_API_URL+"?"+c.toString(),{method:"GET",headers:Ce}).then((function(e){return e.json()})).then((function(e){return e.data})).catch((function(e){return console.log(e),[]}));case 6:return a=e.sent,e.abrupt("return",a);case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();n(394);function Ee(e){for(var t=e.pages,n=void 0===t?10:t,c=e.curPage,a=void 0===c?1:c,r=e.onPageClick,s=void 0===r?function(e){}:r,o=[],l=1;l<=n;l++)o.push(l);return Object(i.jsxs)("ul",{className:"pagination",children:[1!==a?Object(i.jsx)("li",{className:"page-item",children:Object(i.jsx)("span",{className:"page-link",onClick:function(){return s(a-1)},children:"\xab"})}):Object(i.jsx)("li",{className:"page-item disabled",children:Object(i.jsx)("span",{className:"page-link",children:"\xab"})}),o.map((function(e,t){return e===a?Object(i.jsx)("li",{className:"page-item active",children:Object(i.jsx)("span",{className:"page-link",children:e})},t):Object(i.jsx)("li",{className:"page-item",children:Object(i.jsx)("span",{className:"page-link",onClick:function(){return s(e)},children:e})},t)})),a!==n?Object(i.jsx)("li",{className:"page-item",children:Object(i.jsx)("span",{className:"page-link",onClick:function(){return s(a+1)},children:"\xbb"})}):Object(i.jsx)("li",{className:"page-item disabled",children:Object(i.jsx)("span",{className:"page-link",children:"\xbb"})})]})}var Le;n(395);function ye(e){var t=Object(c.useState)(1),n=Object(h.a)(t,2),a=n[0],r=n[1],s=Object(c.useState)(0),l=Object(h.a)(s,2),d=l[0],u=l[1],j=Object(c.useState)(null),b=Object(h.a)(j,2),O=b[0],m=b[1],p=e.onPage||0;Object(c.useEffect)((function(){if(null===e.items)return m(null);if(p>0&&e.items){var t=p*(a-1);1===a&&(t=0),u(Math.ceil(e.items.length/p)),m(e.items.slice(t,t+p))}}),[e.items,a]);return null===O?Object(i.jsx)(o,{card:!0}):Object(i.jsx)("div",{className:"card",children:Object(i.jsxs)("div",{className:"card-body",children:[Object(i.jsx)("ul",{className:"list-group logs-list",children:O.length?O.map((function(e){var t=new Date(e.createdAt);return Object(i.jsxs)("li",{className:"list-group-item "+e.actionType,children:[Object(i.jsxs)("div",{className:"left",children:[Object(i.jsxs)("span",{className:"date-log",children:[t.toLocaleDateString()," ",t.toLocaleTimeString()]}),Object(i.jsx)(be.b,{to:"/users/"+e.userId,children:e.username?e.username:"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c ".concat(e.userId)})]}),Object(i.jsx)("span",{children:e.action})]},e.id)})):Object(i.jsx)("li",{className:"list-group-item text-center",children:"\u041b\u043e\u0433\u0438 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u044b"})}),d>1&&Object(i.jsx)(Ee,{pages:d,curPage:a,onPageClick:function(e){e>d&&(e=d),r(e)}})]})})}function Ge(){var e=Object(c.useContext)(l),t=Object(c.useState)(null),n=Object(h.a)(t,2),a=n[0],r=n[1],s=Object(O.d)((function(e){return e.guildsReducer})),o=function(){var t=Object(_.a)(N.a.mark((function t(){var n;return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Ie(e.authToken,s.CUR_GUILD.id);case 2:n=t.sent,r(n);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(c.useEffect)((function(){s.CUR_GUILD.id&&o()}),[s.CUR_GUILD.id]),clearInterval(Le),Le=setInterval((function(){s.CUR_GUILD.id&&o()}),1e4),Object(i.jsx)(ye,{items:a,onPage:20})}function we(){return Object(i.jsx)(Ge,{})}n(396);function De(e){var t=e.user,n=void 0===t?{}:t,c=e.userData,a=void 0===c?{}:c,r=e.earnCreditsButtonClick;return Object(i.jsxs)("div",{className:"list-group user-data",children:[n.id?Object(i.jsxs)("div",{className:"list-group-item header",children:[!!n.avatar&&Object(i.jsx)("div",{className:"image-wrapper",children:Object(i.jsx)("img",{src:n.avatar,alt:n.username})}),Object(i.jsxs)("div",{class:"username",children:[n.username,"#",n.discriminator]}),Object(i.jsx)("div",{className:"buttons",children:Object(i.jsx)("button",{onClick:r,className:"btn btn-primary",children:"\u041f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u043a\u0440\u0435\u0434\u0438\u0442\u044b"})})]}):Object(i.jsx)("div",{className:"list-group-item header",children:Object(i.jsx)(o,{})}),Object(i.jsx)("div",{className:"list-group-item",children:Object(i.jsx)("div",{className:"data-items-list",children:Object(i.jsx)("div",{className:"item",children:Object(i.jsxs)("div",{className:"item-inner",children:[Object(i.jsx)("div",{className:"name",children:"\u041a\u0440\u0435\u0434\u0438\u0442\u044b"}),null===a?Object(i.jsx)(o,{}):Object(i.jsx)("div",{className:"value",children:a.money||0})]})})})})]})}var ke=new Headers;ke.append("Content-Type","application/json");var Ae=function(){var e=Object(_.a)(N.a.mark((function e(t,n){var c,a;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(c=new URLSearchParams).append("auth_token",t),c.append("action","GET_USER_DATA"),c.append("user_id",n),e.next=6,fetch(G.BOT_API_URL+"?"+c.toString(),{method:"GET",headers:ke}).then((function(e){return e.json()})).then((function(e){return e.data})).catch((function(e){return console.log(e),{}}));case 6:return a=e.sent,e.abrupt("return",a);case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Pe=function(){var e=Object(_.a)(N.a.mark((function e(t,n){var c,a;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(c=new URLSearchParams).append("auth_token",t),c.append("action","EARN_CREDITS"),c.append("user_id",n),e.next=6,fetch(G.BOT_API_URL+"?"+c.toString(),{method:"GET",headers:ke}).then((function(e){return e.json()})).then((function(e){return e})).catch((function(e){return console.log(e),{error:!0,text:"\u041d\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043d\u0430\u044f \u043e\u0448\u0438\u0431\u043a\u0430"}}));case 6:return a=e.sent,e.abrupt("return",a);case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();function Fe(){var e=Object(c.useContext)(l),t=Object(O.d)((function(e){return e.userReducer})),n=Object(O.c)(),a=Object(c.useState)(null),r=Object(h.a)(a,2),s=r[0],o=r[1],d=function(){var n=Object(_.a)(N.a.mark((function n(){var c;return N.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Ae(e.authToken,t.id);case 2:c=n.sent,o(c);case 4:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),u=function(){var c=Object(_.a)(N.a.mark((function c(){var a;return N.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,Pe(e.authToken,t.id);case 2:(a=c.sent).success?(d(),n(E({type:"success",text:a.text,id:(new Date).getTime()}))):n(E({type:"danger",text:a.text,id:(new Date).getTime()}));case 4:case"end":return c.stop()}}),c)})));return function(){return c.apply(this,arguments)}}(),j=function(){var e=Object(_.a)(N.a.mark((function e(){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:u();case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(c.useEffect)((function(){t.id&&d()}),[t]),Object(i.jsx)(De,{user:t,userData:s,earnCreditsButtonClick:j})}function He(){return Object(i.jsx)(Fe,{})}var Be=function(){return Object(i.jsxs)(b.Switch,{children:[Object(i.jsx)(b.Route,{path:"/settings",component:ie}),Object(i.jsx)(b.Route,{path:"/users",component:me}),Object(i.jsx)(b.Route,{path:"/stats",component:Re}),Object(i.jsx)(b.Route,{path:"/logs",component:we}),Object(i.jsx)(b.Route,{path:"/userdata",component:He}),Object(i.jsx)(b.Route,{path:"/",component:de}),Object(i.jsx)(b.Redirect,{to:"/"})]})},Me=new(n(209).a),Ve={AUTH:!1,AUTH_TOKEN:!1,IS_LOADING:!0,AUTH_ERROR:!1},qe="CHECK_AUTH",Ke="AUTH_USER",Je="LOGOUT_USER",Ye=function(e){return{type:Ke,payload:e}},We=function(){return function(){var e=Object(_.a)(N.a.mark((function e(t){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Me.remove(G.COOKIE_ACCESS,{path:"/"});case 2:return e.next=4,Me.remove(G.COOKIE_REFRESH,{path:"/"});case 4:window.location.reload();case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},ze=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ve,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case qe:var c=!!Me.get(G.COOKIE_ACCESS)&&Me.get(G.COOKIE_ACCESS);return c&&(e=Object(S.a)(Object(S.a)({},t),{},{AUTH:!0,AUTH_TOKEN:c})),Object(S.a)(Object(S.a)({},e),{},{IS_LOADING:!1});case Ke:return n.payload.access_token?e=Object(S.a)(Object(S.a)({},t),{},{AUTH:!0,AUTH_TOKEN:n.payload.access_token}):n.payload.error&&n.payload.error_description&&(e=Object(S.a)(Object(S.a)({},t),{},{AUTH_ERROR:n.payload.error_description})),Object(S.a)(Object(S.a)({},e),{},{IS_LOADING:!1});case Je:default:return t}};n(397);function Ze(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.items.length?Object(i.jsx)("div",{className:"alerts",children:e.items.map((function(e){return Object(i.jsx)("div",{className:"alert alert-".concat(e.type),role:"alert",children:e.text},e.id)}))}):null}function Xe(){var e=Object(O.c)(),t=Object(O.d)((function(e){return e.alertsReducer}));return Object(c.useEffect)((function(){var n=t[t.length-1];n&&setTimeout((function(){var t;e((t=n.id,{type:I,alertId:t}))}),3e3)}),[t]),Object(i.jsx)(Ze,{items:t})}n(398);var Qe=n.p+"static/media/burger.5ea80f85.svg",$e=n.p+"static/media/close.4a57c160.svg";function et(e){var t=e.guilds,n=void 0===t?[]:t,a=e.guildListClick,r=void 0===a?function(e){}:a,s=e.openMenuClick,o=void 0===s?function(e){}:s,d=e.closeMenuClick,u=void 0===d?function(e){}:d,j=e.menuOpened,b=void 0!==j&&j,h=Object(c.useContext)(l).links,O=function(e){var t=e.split(" ");return(t=(t=t.map((function(e){return e=e[0].toUpperCase()}))).slice(0,3)).join("")};return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)("button",{class:"open-menu",onClick:o,children:Object(i.jsx)("img",{src:Qe,alt:"\u041e\u0442\u043a\u0440\u044b\u0442\u044c \u043c\u0435\u043d\u044e"})}),Object(i.jsxs)("div",{class:b?"sidebar-wrapper opened":"sidebar-wrapper",children:[Object(i.jsx)("button",{class:"close-menu",onClick:u,children:Object(i.jsx)("img",{src:$e,alt:"\u0417\u0430\u043a\u0440\u044b\u0442\u044c \u043c\u0435\u043d\u044e"})}),n.GUILDS&&(n.GUILDS.length?Object(i.jsx)("div",{className:"guilds-list-wrapper",children:Object(i.jsx)("div",{className:"guild-list",children:n.GUILDS.map((function(e){return Object(i.jsxs)("div",{className:e.id===n.CUR_GUILD.id?"guild-item current":"guild-item",onClick:function(){return r(e.id)},children:[e.icon?Object(i.jsx)("img",{className:"rounded-circle",src:"https://cdn.discordapp.com/icons/".concat(e.id,"/").concat(e.icon,".png"),alt:e.name}):Object(i.jsx)("div",{class:"no-guild-icon",children:O(e.name)}),Object(i.jsx)("div",{class:"guild-name",children:e.name})]},e.id)}))})}):Object(i.jsx)("div",{className:"guilds-list",children:"\u0421\u0435\u0440\u0432\u0435\u0440\u043e\u0432 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e"})),Object(i.jsx)("div",{className:"card sidebar-card",children:Object(i.jsx)("div",{className:"card-body",children:Object(i.jsx)("ul",{className:"nav flex-column",children:h.map((function(e){return Object(i.jsx)("li",{className:"nav-item",children:Object(i.jsx)(be.b,{className:"nav-link",activeClassName:"active",exact:!0,to:e.url,children:e.name})},e.url)}))})})})]})]})}function tt(){var e=Object(O.d)((function(e){return e.guildsReducer})),t=Object(O.d)((function(e){return e.firebaseReducer})),n=Object(O.c)(),a=Object(c.useContext)(l).authToken,r=Object(ue.useLocation)(),s=Object(c.useState)(!1),o=Object(h.a)(s,2),d=o[0],u=o[1],j=function(e){n(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(n){var c=new URLSearchParams;c.append("auth_token",e),c.append("action","GET_USER_GUILDS");var a=new Headers;a.append("Content-Type","application/json"),D(G.BOT_API_URL+"?"+c.toString(),{method:"GET",headers:a}).then((function(e){return e.json()})).then((function(e){e.error?n(E({type:"danger",text:"\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u044f \u0433\u0438\u043b\u044c\u0434\u0438\u0439: ".concat(e.text),id:(new Date).getTime()})):n(B(e,t))})).catch((function(e){console.log(e)}))}}(a,e))};return Object(c.useEffect)((function(){Object.keys(t.ALL_SERVERS).length&&j(t.ALL_SERVERS)}),[t.ALL_SERVERS]),Object(c.useEffect)((function(){u(!1)}),[r]),Object(c.useEffect)((function(){u(!1)}),[e.CUR_GUILD]),Object(i.jsx)(et,{guilds:e,guildListClick:function(e){n(function(e){return{type:P,id:e}}(e))},openMenuClick:function(){return u(!0)},closeMenuClick:function(){return u(!1)},menuOpened:d})}var nt={},ct="SET_USER",at=function(e){return{type:ct,payload:e}},rt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:nt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ct:return Object(S.a)(Object(S.a)({},e),t.payload);default:return e}};n(399);function st(e){var t=e.user,n=void 0===t?{}:t,c=e.logout,a=void 0===c?function(e){}:c;return Object(i.jsx)("header",{children:Object(i.jsx)("div",{className:"container-fluid",children:Object(i.jsxs)("div",{className:"row align-items-center",children:[Object(i.jsx)("div",{className:"col-md-6",children:Object(i.jsx)("nav",{className:"navbar navbar-dark pl-0 py-1",children:Object(i.jsx)("div",{className:"navbar-brand",children:Object.keys(n).length?Object(i.jsxs)("div",{className:"d-flex align-items-center",children:[n.avatar&&Object(i.jsx)("img",{src:n.avatar,className:"d-inline-block align-top rounded-circle mr-3",alt:""}),Object(i.jsxs)("span",{className:"text-white",children:[n.username,"#",n.discriminator]})]}):Object(i.jsx)(o,{})})})}),Object(i.jsx)("div",{className:"col-md-6 text-right",children:Object(i.jsx)(d,{text:"\u0412\u044b\u0445\u043e\u0434",classes:"btn-danger",onClick:a})})]})})})}function it(){var e=Object(c.useContext)(l),t=e.authToken,n=Object(O.d)((function(e){return e.userReducer})),a=Object(O.c)(),r=function(){a(function(e){return function(t){var n=new URLSearchParams;n.append("auth_token",e),n.append("action","GET_USER");var c=new Headers;c.append("Content-Type","application/json"),fetch(G.BOT_API_URL+"?"+n.toString(),{method:"GET",headers:c}).then((function(e){return e.json()})).then((function(e){e.error?(t(E({type:"danger",text:"\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f: ".concat(e.text),id:(new Date).getTime()})),401===e.status&&t(We())):t(at(e))})).catch((function(e){console.log(e)}))}}(t))},s=function(){a(function(e){return function(){var t=Object(_.a)(N.a.mark((function t(n){var c;return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:(c=new URLSearchParams).append("auth_token",e),c.append("action","GET_ALL_SERVER_WHERE_BOT_IS"),fetch(G.BOT_API_URL+"?"+c.toString(),{method:"GET",headers:Z}).then((function(e){return e.json()})).then((function(e){e.error?n(E({type:"danger",text:"\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u044f \u0441\u0435\u0440\u0432\u0435\u0440\u043e\u0432 \u0441 \u0431\u043e\u0442\u043e\u043c: ".concat(e.text),id:(new Date).getTime()})):n(ce(e))})).catch((function(e){console.log(e)}));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(e.authToken))};Object(c.useEffect)((function(){r(),s()}),[]);return Object(i.jsx)(st,{user:n,logout:function(){a(We())}})}var ot=function(){var e=Object(O.d)((function(e){return e.authReducer})),t=Object(O.c)(),n=function(){t({type:qe}),t((function(e){var t=new URLSearchParams(window.location.search).get("code");if(t){var n=new URLSearchParams;n.append("action","CHECK_AUTH_CODE"),n.append("code",t),n.append("redirect_uri",G.REDIRECT_URI);var c=new Headers;c.append("Content-Type","application/json"),fetch(G.BOT_API_URL+"?"+n.toString(),{method:"GET",headers:c}).then((function(e){return e.json()})).then((function(t){if(t.error)e(E({type:"danger",text:"\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u043e\u0432\u0435\u0440\u043a\u0438 \u043a\u043e\u0434\u0430 \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u0438: ".concat(t.text),id:(new Date).getTime()}));else{var n=new Date;t.access_token&&(Me.set(G.COOKIE_ACCESS,t.access_token,{path:"/",maxAge:n.setDate(n.getDate()+7)}),Me.set(G.COOKIE_REFRESH,t.refresh_token,{path:"/",maxAge:n.setDate(n.getDate()+7)}),e(Ye(t))),e(Ye(t)),window.location.href=G.REDIRECT_URI}})).catch((function(e){console.log(e)}))}}))};return Object(c.useEffect)((function(){n()}),[]),e.IS_LOADING?Object(i.jsx)("div",{className:"main-spinner",children:Object(i.jsx)(o,{})}):e.AUTH?Object(i.jsxs)(l.Provider,{value:{links:y,authToken:e.AUTH_TOKEN,app:G},children:[Object(i.jsxs)("div",{className:"main-wrapper",children:[Object(i.jsx)(it,{}),Object(i.jsx)("div",{className:"container-fluid main-container",children:Object(i.jsxs)("div",{className:"row h-100",children:[Object(i.jsx)("div",{className:"col-md-3",children:Object(i.jsx)(tt,{})}),Object(i.jsx)("div",{className:"col-md-9",children:Object(i.jsx)("div",{className:"content-page",children:Object(i.jsx)(Be,{})})})]})}),Object(i.jsx)(j,{})]}),Object(i.jsx)(Xe,{})]}):Object(i.jsxs)(l.Provider,{value:{links:y,app:G},children:[Object(i.jsx)(u,{}),Object(i.jsx)(Xe,{})]})},lt=n(87),dt=n(205),ut=n(206),jt=[],bt=Object(lt.combineReducers)({authReducer:ze,userReducer:rt,guildsReducer:q,firebaseReducer:ae,alertsReducer:L}),ht=Object(lt.createStore)(bt,Object(dt.composeWithDevTools)(lt.applyMiddleware.apply(void 0,[ut.a].concat(jt))));s.a.render(Object(i.jsx)(O.a,{store:ht,children:Object(i.jsx)(be.a,{basename:"/",children:Object(i.jsx)(a.a.StrictMode,{children:Object(i.jsx)(ot,{})})})}),document.getElementById("root"))}},[[400,1,2]]]);
//# sourceMappingURL=main.f6fe433b.chunk.js.map